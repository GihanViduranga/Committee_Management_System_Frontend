<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Dashboard</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/projectCSS/mainCSS.css">
    <style>
        :root {
            --primary-black: #212121;
            --primary-orange: #FF5722;
            --primary-white: #FFFFFF;
            --secondary-blue: #03A9F4;
            --secondary-green: #4CAF50;
            --light-gray: #f8f9fa;
            --medium-gray: #e9ecef;
            --dark-gray: #495057;
            --shadow-sm: 0 1px 2px rgba(0,0,0,0.1);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 15px rgba(0,0,0,0.1);
            --transition: all 0.3s ease;
        }

    </style>
</head>
<body>
<!-- SweetAlert2 CDN -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<!-- Sidebar -->
<div class="sidebar">
    <div class="logo">Dashboard</div>
    <ul class="nav flex-column">
        <li class="nav-item">
            <a class="nav-link active" id="dashboard" href="#" data-content="dashboard"><i class="fas fa-home me-2"></i>Dashboard</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="updateUser" href="#" data-content="updateUser"><i class="fas fa-user-edit me-2"></i>Update User</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#" id="members" data-content="members"><i class="fas fa-users me-2"></i>Members</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#" id="meetings" data-content="meetings"><i class="fas fa-calendar-alt me-2"></i>Meetings</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#" id="Event" data-content="events"><i class="fas fa-calendar-check me-2"></i>Events</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#" id="eventFacility" data-content="eventFacility"><i class="fas fa-building me-2"></i>Event Facility</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#" id="event_types" data-content="eventType"><i class="fas fa-tags me-2"></i>Event Type</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#" data-content="meetingAttendance"><i class="fas fa-clipboard-list me-2"></i>Meeting Attendance</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="memberDashboard.html" ><i class="fas fa-home me-2"></i>Member Dashboard</a>
        </li>
    </ul>
</div>

<!-- Main Content -->
    <section id="MainContent">
        <div class="main-content">
            <!-- Navbar -->
            <nav class="navbar">
                <div class="container-fluid">
                    <span class="navbar-brand">Welcome, Admin</span>
                    <div class="d-flex align-items-center">
                        <form class="d-flex me-3">
                            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                            <button class="btn btn-outline-primary" type="submit">Search</button>
                        </form>
                        <!-- Profile Dropdown -->
                        <div class="dropdown">
                            <a class="dropdown-toggle d-flex align-items-center text-decoration-none" href="#" role="button" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                <img src="resources/images/Profile_Icon.png" alt="Profile" class="profile-img me-2">
                                <span>John Doe</span>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
                                <li><a class="dropdown-item" href="#"><i class="fas fa-user me-2"></i>Profile</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="login.html"><i class="fas fa-sign-out-alt me-2"></i>Logout</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </nav>

            <!-- Dynamic Content Area -->
            <div id="dynamicContent" class="mt-4">
                <!-- Default Dashboard Content -->
                <div class="row">
                    <div class="col-md-3">
                        <div class="card text-center p-4">
                            <i class="fas fa-users card-icon"></i>
                            <h5 class="mt-3">Users</h5>
                            <p class="text-muted">Total: 1,234</p>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-center p-4">
                            <i class="fas fa-chart-line card-icon"></i>
                            <h5 class="mt-3">Revenue</h5>
                            <p class="text-muted">$12,345</p>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-center p-4">
                            <i class="fas fa-shopping-cart card-icon"></i>
                            <h5 class="mt-3">Orders</h5>
                            <p class="text-muted">Total: 567</p>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-center p-4">
                            <i class="fas fa-tasks card-icon"></i>
                            <h5 class="mt-3">Tasks</h5>
                            <p class="text-muted">Completed: 89%</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
</section>
<!--User List-->
<section id="UserList">
    <div class="card shadow-sm">
<div class="containers" >
    <!-- Card Component -->
    <div class="tableUser shadow-sm mb-4">
        <!-- Card Header -->
        <div class="card-header bg-white border-bottom-0 pb-0">
            <h3 class="card-title mb-0">User List</h3>
            <p id="para">Before active the member pleas Check the member Table</p>
        </div>

        <!-- Card Body - Table -->
        <div class="card-body pt-0">
            <div class="table-responsive">
                <table class="table table-bordered mb-0">
                    <thead class="table-light">
                    <tr>
                        <th>User ID</th>
                        <th>Full Name</th>
                        <th>Birthday</th>
                        <th>Address</th>
                        <th>Phone Number</th>
                        <th>Email</th>
                        <th>Role</th>
                        <th>Active Status</th>
                        <th>Action</th>
                    </tr>
                    </thead>
                    <tbody id="userTableBody">
                    <!-- User rows will be dynamically added here -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Card Footer - Pagination -->
        <div class="card-footer bg-white border-top-0">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <span class="text-muted small">Showing <span id="currentEntries">0</span> of <span id="totalEntries">0</span> entries</span>
                </div>
                <div>
                    <div class="d-flex align-items-center">
                        <select id="pageSize" class="form-select form-select-sm me-2" style="width: auto;">
                            <option value="5">5</option>
                            <option value="10" selected>10</option>
                            <option value="25">25</option>
                            <option value="50">50</option>
                        </select>
                        <div class="btn-group">
                            <button class="btn btn-outline-secondary btn-sm" id="prevPage">Previous</button>
                            <div id="pageNumbers" class="btn-group"></div>
                            <button class="btn btn-outline-secondary btn-sm" id="nextPage">Next</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
    </div>

    <!-- Update User Form (Initially Hidden) -->
    <div class="form-container" id="updateUserFormContainer" style="display: none;">
        <h3>Update User</h3>
        <form id="updateUserForm">
            <!-- Hidden input for userId -->
            <input type="hidden" id="userId" name="userId" value="">

            <!-- Full Name -->
            <div class="mb-3">
                <label for="fullName" class="form-label">Full Name</label>
                <input type="text" class="form-control" id="fullName" name="fullName" disabled>
            </div>

            <!-- Birthday -->
            <div class="mb-3">
                <label for="birthday" class="form-label">Birthday</label>
                <input type="date" class="form-control" id="birthday" name="birthday" disabled>
            </div>

            <!-- Address -->
            <div class="mb-3">
                <label for="address" class="form-label">Address</label>
                <input type="text" class="form-control" id="address" name="address" disabled>
            </div>

            <!-- Phone Number -->
            <div class="mb-3">
                <label for="phoneNumber" class="form-label">Phone Number</label>
                <input type="tel" class="form-control" id="phoneNumber" name="phoneNumber" disabled>
            </div>

            <!-- Email -->
            <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="email" name="email" disabled>
            </div>

            <!-- Password
            <div class="mb-3">
                <label for="password" class="form-label">Password</label>
                <input type="password" class="form-control" id="password" name="password" required>
            </div>-->

            <!-- Role -->
            <div class="mb-3">
                <label for="role" class="form-label">Role</label>
                <select class="form-select" id="role" name="role" required>
                    <option value="ADMIN">Admin</option>
                    <option value="MEMBER">Member</option>
                </select>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary" onclick="loadForm()">Update</button>
            <!-- Cancel Button -->
            <button type="button" class="btn btn-secondary" onclick="hideForm()">Cancel</button>
        </form>
    </div>
</section>
<!--Event Creation-->
<div class="form-container tableUser" id="eventCreation">
    <h1 class="text-center mb-4">Create Event</h1>
    <form id="eventForm" class="card p-4">

        <!-- Event Details -->
        <div class="card mb-3">
            <div class="card-header text-white">
                <h5 class="formNames">Event Details</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <label class="form-label" for="eventTitle">Event Title</label>
                        <input type="text" class="form-control" id="eventTitle" name="eventTitle" required>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label" for="description">Description</label>
                        <textarea class="form-control" id="description" rows="2"></textarea>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-6">
                        <label class="form-label" for="startDateTime">Start DateTime</label>
                        <input type="datetime-local" class="form-control" id="startDateTime" required>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label" for="endDateTime">End DateTime</label>
                        <input type="datetime-local" class="form-control" id="endDateTime" required>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin and Event Type Details -->
        <div class="card mb-3">
            <div class="card-header text-white">
                <h5 class="mb-0 formNames">Admin & Event Type</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <label class="form-label" for="adminID">Admin ID</label>
                        <input type="text" class="form-control" id="adminID" disabled>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label" for="adminName">Admin Name</label>
                        <select class="form-control" id="adminName" required>
                            <option value="" disabled selected>Select Admin</option>
                        </select>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-6">
                        <label class="form-label" for="eventTypeID">Event Type ID</label>
                        <input type="text" class="form-control" id="eventTypeID" disabled>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label" for="eventType">Event Type</label>
                        <select class="form-control" id="eventType" required>
                            <option value="" disabled selected>Select Type</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>


        <!-- Facility Selection -->
        <div class="card mb-3">
            <div class="card-header text-white">
                <h5 class="mb-0 formNames">Add Facilities</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <label class="form-label">Facility ID</label>
                        <input type="number" class="form-control" id="facilityID" readonly>
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">Facility Name</label>
                        <select class="form-control" id="facilitySelect" required>
                            <option value="" disabled selected>Select Facility</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">Qty</label>
                        <input type="number" class="form-control" id="facilityQty" min="1" value="1">
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-8">
                        <label class="form-label">Description</label>
                        <input type="text" class="form-control" id="facilityDes" readonly>
                    </div>
                    <div class="col-md-4 text-right">
                        <button type="button" id="addFacilityBtn" class="btn btn-primary w-100">Add</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Selected Facilities -->
        <div class="card mb-3">
            <div class="card-header text-white">
                <h5 class="mb-0 formNames">Selected Facilities</h5>
            </div>
            <div class="card-body">
                <table class="table table-bordered">
                    <thead class="thead-dark">
                    <tr>
                        <th>Facility ID</th>
                        <th>Facility</th>
                        <th>Qty</th>
                        <th>Description</th>
                        <th>Action</th>
                    </tr>
                    </thead>
                    <tbody id="facilitiesCart"></tbody>
                    <tfoot>
                    <tr>
                        <td colspan="2" class="text-right font-weight-bold">Total QTY:</td>
                        <td id="facilitiesTotalQTY">0</td>
                        <td colspan="2"></td>
                    </tr>
                    </tfoot>
                </table>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="text-right">
            <button type="button" id="clearBtn" class="btn btn-secondary btn-reset">Clear All</button>
            <button type="submit" class="btn btn-submit">Create Event</button>
        </div>
    </form>
</div>

<!-- JavaScript Template for Facility Row -->
<script type="text/template" id="facilityRowTemplate">
    <tr data-id="{{id}}">
        <td>{{id}}</td>        <!-- Facility ID leftmost -->
        <td>{{name}}</td>      <!-- Facility Name -->
        <td>{{qty}}</td>      <!-- Quantity -->
        <td>{{desc}}</td>     <!-- Description rightmost -->
        <td><button class="btn btn-sm btn-danger remove-facility">×</button></td>
    </tr>
</script>
<!--Member List-->
<div class="containers tableUser" id="memberList">
    <div class="card shadow-sm">
        <div class="card-header bg-white">
            <h3 class="card-title mb-0">Members List</h3>
        </div>

        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead class="table-light">
                    <tr>
                        <th>Member ID</th>
                        <th>Full Name</th>
                        <th>Join Date</th>
                        <th>NIC</th>
                        <th>Positions Held</th>
                    </thead>
                    <tbody id="memberListTableBody">

                    </tbody>
                </table>
            </div>
        </div>

        <div class="card-footer bg-white">
            <div class="d-flex justify-content-between align-items-center">
                <div class="text-muted small">Showing 2 of 2 entries</div>
                <div class="btn-group">
                    <button class="btn btn-outline-secondary btn-sm">Previous</button>
                    <button class="btn btn-outline-secondary btn-sm">Next</button>
                </div>
            </div>
        </div>
    </div>
</div>
<!--Meetings-->
<div class="tableUser" id="meetingsCreate">
    <div class="form-container">
        <h1>Create New Meeting</h1>
        <form id="meetingForm">
            <!-- Meeting Title -->
            <div class="form-group">
                <label for="meetingTitle">Meeting Title</label>
                <input type="text" class="form-control" id="meetingTitle" name="meetingTitle" required>
            </div>

            <!-- Date and Time in two columns -->
            <div class="two-column">
                <div class="form-group">
                    <label for="meetingDate">Meeting Date</label>
                    <input type="date" class="form-control" id="meetingDate" name="meetingDate" required>
                </div>
                <div class="form-group">
                    <label for="meetingTime">Meeting Time</label>
                    <input type="time" class="form-control" id="meetingTime" name="meetingTime" required>
                </div>
            </div>

            <!-- Description -->
            <div class="form-group">
                <label for="descriptions">Description</label>
                <textarea class="form-control" id="descriptions" name="description" rows="4"></textarea>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary">Schedule Meeting</button>
        </form>
    </div>
    <table class="table table-bordered table-hover">
        <thead class="thead-dark">
        <tr>
            <th>Meeting ID</th>
            <th>Title</th>
            <th>Date</th>
            <th>Time</th>
            <th>Description</th>
            <th>Action</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>1</td>
            <td>Project Discussion</td>
            <td>2025-04-10</td>
            <td>10:00 AM</td>
            <td>Discussion on project updates</td>
            <td>
                <button class="btn btn-sm btn-primary">Edit</button>
                <button class="btn btn-sm btn-danger">Delete</button>
            </td>
        </tr>
        <!-- More rows dynamically added here -->
        </tbody>
    </table>

</div>

<!--Event Facility-->
<div class="container tableUser mt-4" id="eventFac">
    <div class="card">
        <h3 class="card-title" style="text-align: center; color: var(--primary-black);">Event Facility Form</h3>
        <div class="card-body">
            <form action="#" id="eventFaci" method="POST">
                <div class="form-group">
                    <label for="facilityName" class="form-label">Facility Name</label>
                    <input type="text" class="form-control" id="facilityName" name="facilityName" required>
                </div>
                <div class="form-group">
                    <label for="FacilityDescriptions" class="form-label">Description</label>
                    <textarea class="form-control" id="FacilityDescriptions" name="description" rows="4" required></textarea>
                </div>
                <div class="form-group">
                    <label for="qty" class="form-label">Quantity</label>
                    <input type="number" class="form-control" id="qty" name="qty" required min="1">
                </div>

                <div class="form-group">
                    <button type="button" id="SaveFacility" class="btn btn-submit">Submit</button>
                    <button type="button" id="UpdateFacility" class="btn btn-warning" style="display: none;">Update</button>
                    <button type="reset" class="btn btn-reset">Reset</button>
                </div>

            </form>
            <table class="table table-bordered table-hover">
                <thead class="thead-dark">
                <tr>
                    <th>Facility ID</th>
                    <th>Facility Name</th>
                    <th>Description</th>
                    <th>Quantity</th>
                    <th>Action</th>
                </tr>
                </thead>
                <tbody id="facilityTableBody">
                <!-- Data will be dynamically loaded here from getAll API endpoint -->
                </tbody>

            </table>
        </div>
    </div>
</div>
<!--Event type-->
<div id="Event_type" class="container tableUser mt-4">
    <!-- Event Type Form -->
    <div class="card" id="eventTypeForm">
        <div class="card-header text-white text-center">
            <h4>Event Type Form</h4>
        </div>
        <div class="card-body">
            <form id="eventTypes" method="POST">
                <div class="mb-3">
                    <label for="eventType" class="form-label">Event Type</label>
                    <input type="text" class="form-control" id="eventTypeN" name="eventType" required>
                </div>

                <div class="mb-3">
                    <label for="description" class="form-label">Description</label>
                    <textarea class="form-control" id="descriptionType" name="description" rows="3" required></textarea>
                </div>

                <div class="d-flex justify-content-between">
                    <button type="reset" class="btn btn-secondary">Reset</button>
                    <button type="button" class="btn btn-warning" id="typeUpdate">Update</button>
                    <button type="button" class="btn btn-primary" id="addEventType">Add Event Type</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Event Type Table -->
    <div class="card mt-4">
        <div class="card-header text-white text-center">
            <h4>Event Types</h4>
        </div>
        <div class="card-body">
            <table class="table table-bordered table-striped text-center">
                <thead class="table-dark">
                <tr>
                    <th>Event Type ID</th>
                    <th>Event Type</th>
                    <th>Description</th>
                    <th>Action</th>
                </tr>
                </thead>
                <tbody id="eventTypeTableBody">
                <!-- Dynamic Data -->
                </tbody>
            </table>
        </div>
    </div>
</div>


<!-- Bootstrap JS -->
<script src="js/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script src="js/controller/adminDashboard.js"></script>
</body>
</html>